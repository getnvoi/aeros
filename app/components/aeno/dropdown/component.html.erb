<div class="<%= classes %>" data-controller="aeno--dropdown" data-aeno--dropdown-searchable-value="<%= searchable %>">
  <div data-aeno--dropdown-target="trigger">
    <%= ui("button",
           label: label,
           icon: "chevrons-up-down",
           variant: button_variant,
           size: button_size,
           data: { action: "click->aeno--dropdown#toggle" }) %>
  </div>

  <div class="hidden origin-top-right fixed mt-margin w-dropdown-width rounded-card shadow-lg bg-background-elevated border border-border focus:outline-none z-50"
       role="menu"
       aria-orientation="vertical"
       data-aeno--dropdown-target="menu">

    <% if searchable %>
      <div class="p-pad-sm border-b border-border">
        <input type="text"
               class="w-full px-input-x h-control text-ui border border-border rounded-input focus:outline-none focus:ring-2 focus:ring-primary-solid focus:border-primary-solid bg-background-elevated"
               placeholder="<%= placeholder %>"
               data-aeno--dropdown-target="search"
               data-action="input->aeno--dropdown#filter" />
      </div>
    <% end %>

    <div class="py-margin-sm max-h-60 overflow-y-auto">
      <% if groups.any? %>
        <% groups.each do |group| %>
          <%= group %>
        <% end %>
      <% else %>
        <% options.each do |option| %>
          <%= option %>
        <% end %>
      <% end %>

      <% if searchable %>
        <div class="hidden px-list py-list text-ui text-muted-foreground" data-aeno--dropdown-target="empty">
          <%= empty_message %>
        </div>
      <% end %>
    </div>
  </div>
</div>